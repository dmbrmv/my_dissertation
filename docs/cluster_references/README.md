# Cluster Classification Reference

## Overview

This directory contains YAML reference files for the hybrid geo-hydrological
classification of Russian watersheds.

## Clustering Summary

- **Geographical clusters:** 9 (Ф1-Ф9)
- **Hydrological clusters:** 10 (Г1-Г10)
- **Hybrid classes:** 17 consolidated combinations

## Methodology

### Geographical Clustering

Ward hierarchical clustering

Based on 19 HydroATLAS physiographic features including land cover,
soil properties, topography, and hydrogeology.

### Hydrological Clustering

Ward hierarchical clustering on seasonal patterns

Based on normalized seasonal discharge patterns (366-day median cycles)
with spike removal and Savitzky-Golay smoothing.

### Hybrid Classification

Combines geographical and hydrological cluster assignments at gauge level.
Rare combinations are consolidated using hexagonal spatial aggregation
(80 km radius) to create meaningful classes with sufficient sample sizes.

## Files

- `geo_clusters_ru.yaml` — Geographical cluster metadata
- `hydro_clusters_ru.yaml` — Hydrological regime characteristics
- `hybrid_clusters_ru.yaml` — Hybrid class combinations
- `gauge_cluster_mapping.csv` — Gauge-level assignments

## Naming Convention

- **Ф#** — Физико-географический кластер (Geographical)
- **Г#** — Гидрологический кластер (Hydrological)
- **Ф#-Г#** — Гибридная комбинация (Hybrid)

## Usage

```python
import yaml
from pathlib import Path

# Load cluster metadata
with open("geo_clusters_ru.yaml", "r", encoding="utf-8") as f:
    geo_clusters = yaml.safe_load(f)

# Load gauge mapping
import pandas as pd
gauge_mapping = pd.read_csv("gauge_cluster_mapping.csv")
```

## Citation

Generated by HybridClusterAnalysis workflow.
See `notebooks/ChapterOne.ipynb` for implementation details.
